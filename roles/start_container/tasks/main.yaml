- name: Copying Docker-compose yaml
  copy: 
    src: docker-compose.yaml
    dest: /home/{{user_name}}/docker-compose.yaml

- name: Logging to DockerHub registry
    #Default is DockerHub
  docker_login:
    registry_url: "{{docker_registry}}"
    username: "{{docker_username}}"
    password: "{{docker_password}}"

- name: Starting Docker Compose
  community.docker.docker_compose_v2:
    project_src: /home/{{user_name}}
      #Equivalent to docker compose up
      #State absent: docker compose down
    state: present